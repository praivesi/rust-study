## 러스트(Rust) - 속도, 안정성, 동시성을 겸비한 현대적 시스템 프로그래밍 언어

- C/C++와 같은 **시스템 프로그래밍 언어**의 성능을 목표 (가비지 컬렉터 없음)
- **메모리 안전성**과 **안정적인(겁없는) 동시성**을 보장
- 컴파일러가 엄격한 규칙을 적용하여 런타임 오류를 최소화

---

### I. 러스트의 기본 철학과 특징

| 구분 | 주요 내용 |
| :--- | :--- |
| **지향점** | **속도와 안정성(안전성) 동시 추구.** 컴파일러가 동시성 버그 등 찾기 어려운 버그를 컴파일 단계에서 거부함으로써 안정성을 높임. |
| **변수** | 기본적으로 **불변(immutable)**. `mut` 키워드를 사용하여 가변으로 선언함. |

---

### II. 메모리 안전성: 소유권, 빌림, 라이프타임

Rust의 메모리 관리를 지배하는 규칙 모음인 **소유권 시스템**은 GC 없이 메모리 누수 등의 버그를 방지하는 핵심 기능임.

#### A. 소유권 (`Ownership`)
* **규칙:**
    1.  각 값은 **소유자(`owner`)**가 정해져 있음.
    2.  한 값의 소유자는 동시에 여럿일 수 없음.
    3.  소유자가 스코프 밖을 벗어나면 값은 자동으로 **버려져(`dropped`)** 메모리가 해제됨 (RAII와 유사).
* **동작:** 힙 데이터 변수를 다른 변수에 대입하면 **소유권이 이동(`move`)**하며, 원본 변수는 더 이상 유효하지 않음.

#### B. 빌림 (`Borrowing`)과 대여 규칙
* **빌림:** 소유권을 이전하지 않고 **참조자**를 통해 값을 사용하는 행위.
* **대여 규칙 (컴파일 타임 강제):** 데이터 레이스 방지 및 안정성 확보.
    1.  스코프 내에서 **가변 참조자**는 **오직 하나**만 존재할 수 있음 (쓰기 접근).
    2.  스코프 내에서 **불변 참조자**는 **여러 개** 존재할 수 있음 (읽기 접근).
    3.  **가변 참조자**가 있는 동안에는 **불변 참조자**를 만들 수 없으며, 그 반대도 불가능함.

#### C. 라이프타임 (`Lifetime`)
* **목적:** 참조자가 가리키는 실제 데이터보다 더 오래 살아남아 유효하지 않은 메모리에 접근하는 **댕글링 참조**를 컴파일 타임에 방지.
* **작동:** 참조자의 수명을 변경하지 않고, 여러 참조자 간의 **수명 관계**를 컴파일러에게 명시하는 제네릭의 일종임.

---

### III. 주요 문법 및 동시성

#### A. 데이터 구조화 및 제어 흐름
| 기능 | 설명 |
| :--- | :--- |
| **구조체(`struct`)** | 여러 값을 묶어 의미 있는 묶음을 정의. `impl` 블록에 **메서드** (첫 매개변수가 `self`)를 정의함. |
| **열거형(`enum`)** | 하나의 타입이 가질 수 있는 여러 가능한 상태값(배리언트)을 정의함. |
| **패턴 매칭(`match`)** | 열거형의 배리언트 등 값을 분기 처리하는 강력한 제어 흐름 연산자임. |
| **함수형 특징** | **클로저** (값을 캡처할 수 있는 익명 함수), **반복자(`Iterator`)** 등의 기능을 지원함. |

#### B. 에러 처리
| 에러 유형 | 처리 방법 | 특징 |
| :--- | :--- | :--- |
| **복구 가능한 에러** | **`Result<T, E>`** 열거형 사용. | 성공(`Ok(T)`) 또는 에러(`Err(E)`) 반환. **`?` 연산자**로 에러를 호출자에게 간결하게 전파함. |
| **복구 불가능한 에러** | **`panic!`** 매크로 호출. | 프로그램이 비정상 종료됨. |

#### C. 트레이트 및 제네릭
* **트레이트(`Trait`):** 다른 언어의 인터페이스와 유사하며, 타입이 공유해야 하는 기능을 정의함.
* **제네릭(`Generic`):** 다양한 타입에서 작동하는 함수나 구조체를 정의할 때 사용하며, 코드의 유연성을 높임.

#### D. 스마트 포인터와 동시성
**스마트 포인터**는 포인터에 추가 기능을 더한 개념

| 스마트 포인터 | 기능/목적 | 동시성 특징 |
| :--- | :--- | :--- |
| **`Box<T>`** | 값을 힙에 할당 (단일 소유권). | N/A |
| **`Rc<T>`** | **참조 카운팅**을 통한 복수 소유권. | **단일 스레드** 환경용 (스레드 안전하지 않음). |
| **`Arc<T>`** | **원자적 참조 카운팅**. | **멀티 스레드** 환경용 (스레드 안전). |
| **`Mutex<T>`** | **뮤텍스**를 통해 한 번에 하나의 스레드만 데이터 접근을 허용. | **공유 메모리 동시성**에서 스레드 안전성 보장. |

**동시성**은 주로 **메시지 전달**(`channel`)이나 **공유 메모리**(`Arc<T>`와 `Mutex<T>` 조합) 방식으로 구현됨.
